@echo off
title LivraisonP2P - Application HarmonisÃ©e
color 0A

echo.
echo  â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
echo  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
echo  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
echo  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â• 
echo  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     
echo  â•šâ•â•â•â•â•â•â•â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•â•šâ•â•     â•šâ•â•     â•šâ•â•     
echo.
echo  ============================================================================================
echo  ðŸš€ LANCEMENT DE L'APPLICATION HARMONISÃ‰E - LIVRAISONP2P
echo  ============================================================================================
echo.

echo [1/6] ðŸ” Verification des prerequis...
if not exist "config.js" (
    echo    âŒ config.js manquant
    echo    Veuillez configurer votre fichier config.js
    pause
    exit /b 1
)
echo    âœ… config.js trouve

if not exist "php\config.php" (
    echo    âŒ php\config.php manquant
    echo    Veuillez configurer votre fichier php\config.php
    pause
    exit /b 1
)
echo    âœ… php\config.php trouve

if not exist "css\app-styles.css" (
    echo    âŒ css\app-styles.css manquant
    echo    Veuillez creer le fichier de styles harmonises
    pause
    exit /b 1
)
echo    âœ… css\app-styles.css trouve

echo    âœ… Prerequis verifies
echo.

echo [2/6] ðŸŽ¨ Verification des designs harmonises...
if exist "css\auth-styles.css" (
    echo    âœ… Styles d'authentification harmonises
) else (
    echo    âš ï¸ Styles d'authentification non trouves
)

if exist "auth\login.html" (
    echo    âœ… Page de connexion harmonisee
) else (
    echo    âš ï¸ Page de connexion non trouvee
)

if exist "auth\register.html" (
    echo    âœ… Page d'inscription harmonisee
) else (
    echo    âš ï¸ Page d'inscription non trouvee
)

if exist "index.html" (
    echo    âœ… Page d'accueil harmonisee
) else (
    echo    âš ï¸ Page d'accueil non trouvee
)

if exist "client\dashboard.html" (
    echo    âœ… Dashboard client harmonise
) else (
    echo    âš ï¸ Dashboard client non trouve
)

if exist "courier\dashboard.html" (
    echo    âœ… Dashboard livreur harmonise
) else (
    echo    âš ï¸ Dashboard livreur non trouve
)

if exist "admin\dashboard.html" (
    echo    âœ… Dashboard admin harmonise
) else (
    echo    âš ï¸ Dashboard admin non trouve
)
echo.

echo [3/6] ðŸ”— Verification des boutons connectes...
if exist "js\modules\auth.js" (
    echo    âœ… Module d'authentification connecte
) else (
    echo    âš ï¸ Module d'authentification non trouve
)

if exist "js\services\supabase.js" (
    echo    âœ… Service Supabase connecte
) else (
    echo    âš ï¸ Service Supabase non trouve
)

if exist "js\services\api.js" (
    echo    âœ… Service API connecte
) else (
    echo    âš ï¸ Service API non trouve
)

if exist "js\components\toast.js" (
    echo    âœ… Composant Toast connecte
) else (
    echo    âš ï¸ Composant Toast non trouve
)
echo.

echo [4/6] ðŸ“§ Verification des services d'email...
if exist "php\email-service.php" (
    echo    âœ… Service d'email configure
) else (
    echo    âš ï¸ Service d'email non trouve
)

if exist "database\email-functions.sql" (
    echo    âœ… Fonctions email SQL configurees
) else (
    echo    âš ï¸ Fonctions email SQL non trouvees
)
echo.

echo [5/6] ðŸ—„ï¸ Verification de la base de donnees...
if exist "database\schema.sql" (
    echo    âœ… Schema de base de donnees trouve
) else (
    echo    âš ï¸ Schema de base de donnees non trouve
)

if exist "setup-database.php" (
    echo    âœ… Script de configuration BDD trouve
) else (
    echo    âš ï¸ Script de configuration BDD non trouve
)
echo.

echo [6/6] ðŸš€ Demarrage du serveur web...
echo    Demarrage du serveur PHP sur localhost:8000...
start "LivraisonP2P Server" php -S localhost:8000 -t . -d display_errors=0

echo    Attente du demarrage du serveur...
timeout /t 3 /nobreak >nul

echo    Ouverture du navigateur...
start http://localhost:8000

echo.
echo  ============================================================================================
echo  ðŸŽ‰ APPLICATION HARMONISÃ‰E DEMARRÃ‰E AVEC SUCCÃˆS !
echo  ============================================================================================
echo.
echo  ðŸ“± URL d'acces: http://localhost:8000
echo  ðŸ” Page de connexion: http://localhost:8000/auth/login.html
echo  ðŸ“ Page d'inscription: http://localhost:8000/auth/register.html
echo  ðŸ‘¤ Dashboard client: http://localhost:8000/client/dashboard.html
echo  ðŸšš Dashboard livreur: http://localhost:8000/courier/dashboard.html
echo  ðŸ‘¨â€ðŸ’¼ Dashboard admin: http://localhost:8000/admin/dashboard.html
echo  âš™ï¸ Configuration admin: http://localhost:8000/php/admin-dashboard.php
echo.
echo  ðŸŽ¨ Features harmonisees disponibles:
echo     âœ… Design harmonise sur toutes les pages
echo     âœ… Boutons connectes au backend
echo     âœ… Authentification complete (email + social)
echo     âœ… Service d'emails fonctionnel
echo     âœ… QR codes (generation + scan)
echo     âœ… Notifications en temps reel
echo     âœ… Base de donnees securisee
echo     âœ… Validation des formulaires
echo     âœ… Gestion d'erreurs
echo     âœ… Animations fluides
echo.
echo  ðŸ“Š Monitoring:
echo     ðŸ“‹ Logs: logs\server.log
echo     ðŸ“§ Emails: logs\email-processor.log
echo     ðŸ” Rapport: logs\production-report.json
echo.
echo  âš ï¸  Appuyez sur Ctrl+C pour arreter le serveur
echo.

:loop
timeout /t 1 /nobreak >nul
goto loop 