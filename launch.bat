@echo off
title LivraisonP2P - Production
color 0A

echo.
echo  â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
echo  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
echo  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
echo  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â• 
echo  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     
echo  â•šâ•â•â•â•â•â•â•â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•â•šâ•â•     â•šâ•â•     â•šâ•â•     
echo.
echo  ============================================================================================
echo  ðŸš€ LANCEMENT DE LA PRODUCTION - LIVRAISONP2P
echo  ============================================================================================
echo.

echo [1/5] ðŸ” Verification des prerequis...
if not exist "config.js" (
    echo    âŒ config.js manquant
    echo    Veuillez configurer votre fichier config.js
    pause
    exit /b 1
)
echo    âœ… config.js trouve

if not exist "php\config.php" (
    echo    âŒ php\config.php manquant
    echo    Veuillez configurer votre fichier php\config.php
    pause
    exit /b 1
)
echo    âœ… php\config.php trouve

echo    âœ… Prerequis verifies
echo.

echo [2/5] ðŸŽ¨ Verification des designs harmonises...
if exist "css\auth-styles.css" (
    echo    âœ… Styles d'authentification harmonises
) else (
    echo    âš ï¸ Styles d'authentification non trouves
)

if exist "auth\login.html" (
    echo    âœ… Page de connexion harmonisee
) else (
    echo    âš ï¸ Page de connexion non trouvee
)

if exist "auth\register.html" (
    echo    âœ… Page d'inscription harmonisee
) else (
    echo    âš ï¸ Page d'inscription non trouvee
)
echo.

echo [3/5] ðŸ”— Verification des boutons connectes...
if exist "js\modules\auth.js" (
    echo    âœ… Module d'authentification connecte
) else (
    echo    âš ï¸ Module d'authentification non trouve
)

if exist "js\services\supabase.js" (
    echo    âœ… Service Supabase connecte
) else (
    echo    âš ï¸ Service Supabase non trouve
)

if exist "js\services\api.js" (
    echo    âœ… Service API connecte
) else (
    echo    âš ï¸ Service API non trouve
)
echo.

echo [4/5] ðŸ“§ Verification des services d'email...
if exist "php\email-service.php" (
    echo    âœ… Service d'email configure
) else (
    echo    âš ï¸ Service d'email non trouve
)

if exist "database\email-functions.sql" (
    echo    âœ… Fonctions email SQL configurees
) else (
    echo    âš ï¸ Fonctions email SQL non trouvees
)
echo.

echo [5/5] ðŸš€ Demarrage du serveur web...
echo    Demarrage du serveur PHP sur localhost:8000...
start "LivraisonP2P Server" php -S localhost:8000 -t . -d display_errors=0

echo    Attente du demarrage du serveur...
timeout /t 3 /nobreak >nul

echo    Ouverture du navigateur...
start http://localhost:8000

echo.
echo  ============================================================================================
echo  ðŸŽ‰ PRODUCTION DEMARREE AVEC SUCCES !
echo  ============================================================================================
echo.
echo  ðŸ“± URL d'acces: http://localhost:8000
echo  ðŸ” Page de connexion: http://localhost:8000/auth/login.html
echo  ðŸ“ Page d'inscription: http://localhost:8000/auth/register.html
echo  ðŸ“Š Dashboard admin: http://localhost:8000/php/admin-dashboard.php
echo.
echo  ðŸŽ¨ Features disponibles:
echo     âœ… Designs harmonises et modernes
echo     âœ… Boutons connectes au backend
echo     âœ… Authentification complete (email + social)
echo     âœ… Service d'emails fonctionnel
echo     âœ… QR codes (generation + scan)
echo     âœ… Notifications en temps reel
echo     âœ… Base de donnees securisee
echo.
echo  ðŸ“Š Monitoring:
echo     ðŸ“‹ Logs: logs\server.log
echo     ðŸ“§ Emails: logs\email-processor.log
echo     ðŸ” Rapport: logs\production-report.json
echo.
echo  âš ï¸  Appuyez sur Ctrl+C pour arreter le serveur
echo.

:loop
timeout /t 1 /nobreak >nul
goto loop 